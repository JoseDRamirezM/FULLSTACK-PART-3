{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","placeholder","className","PersonForm","props","onSubmit","addNewPerson","newName","handleNewName","type","pattern","newNumber","handleNewNumber","Persons","person","deleteHandler","name","number","id","onClick","baseUrl","axios","get","then","response","data","newObject","post","put","contact_id","delete","Notification","message","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notificationState","setNotificationState","setMessage","useEffect","personService","contacts","define_message","text","setTimeout","constactsToShow","toLocaleLowerCase","includes","event","preventDefault","length","contact","pop","window","confirm","returnedPerson","map","catch","error","newPersonObject","newContact","concat","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86d58852.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handler}) => {\r\n    return (\r\n        <div><input value={filter} onChange={handler} placeholder=\"Search contacts..\" className=\"search_bar\" /></div>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.addNewPerson}>\r\n                <table className=\"form\">\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>Name</td>\r\n                        <td><input value={props.newName} onChange={props.handleNewName} className=\"input\" /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Number</td>\r\n                        <td><input type=\"text\" pattern=\"\\d*-*\" value={props.newNumber} onChange={props.handleNewNumber} className=\"input\" /></td>\r\n                    </tr>\r\n                    </tbody>\r\n           \r\n                </table>\r\n            <div className=\"space\"><button type=\"submit\" className=\"button\">add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({person, deleteHandler}) => { \r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"photo\"></div>\r\n      <div className=\"banner\"></div>\r\n      <ul>\r\n      <li key={person.name}><b>{person.name}</b> <br/>{person.number}</li>\r\n      </ul>\r\n      <button className=\"contact\" id=\"main-button\" onClick={deleteHandler}>Delete</button>\r\n    </div>\r\n  )\r\n}\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\r\n}\r\n\r\nconst delete_contact = contact_id => {\r\n    return axios.delete(`${baseUrl}/${contact_id}`)\r\n}\r\n\r\nexport default {getAll, create, update, delete_contact}","import React from 'react'\r\n\r\nconst Notification = ({ message, style}) => {\r\n    if(message == null) {\r\n        return null\r\n    }\r\n\r\n    if (style) {\r\n        return (\r\n            <div className=\"success\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './App.css'; \n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationState, setNotificationState] = useState(true)\n  const [message, setMessage] = useState(null)\n  \n  const hook = () => {\n    personService\n      .getAll()\n      .then(contacts => { \n        setPersons(contacts)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const handleNewName = event => setNewName(event.target.value)\n\n  const handleNewNumber = event => setNewNumber(event.target.value)\n\n  const handleNewFilter = event => setFilter(event.target.value)\n\n  const define_message = (text, style) => {\n    setNotificationState(style)\n    setMessage(text)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const deleteHandler = (id, name) => {\n    if(window.confirm(`Delete ${name} ?`)) {\n    personService\n      .delete_contact(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        define_message(`${name} deleted`, true)\n      })\n      .catch(error => {\n        define_message(`'${name}' was already deleted from server`, false)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n   \n  const addNewPerson = (event) => {\n    event.preventDefault()\n    if (newName && newNumber) {\n      if (persons.filter(person => person.name === newName).length > 0) {\n        const contact = persons.filter(person => person.name === newName).pop()\n        if (contact.number !== newNumber) {\n          if (window.confirm(`${contact.name} is already addded to phonebook, replace the old number with a new one?`)){\n            personService\n              .update(contact.id, {...contact, number: newNumber})\n              .then(returnedPerson => {\n                setPersons(persons.map(person => person.id !== contact.id ? person : returnedPerson))\n                setNewName('')\n                setNewNumber('')\n                define_message(`Updated ${contact.name}`, true)\n              })\n              .catch(error => {\n                define_message(`'${contact.name}' was already deleted from server`, false)\n                setPersons(persons.filter(person => person.id !== contact.id))\n              })\n          }\n        } else {\n          \n          define_message(`${newName} is already added to the phonebook`, false)\n        }\n      } else {\n        const newPersonObject = {name: newName, number: newNumber}\n        personService\n          .create(newPersonObject)\n          .then(newContact => {\n            setPersons(persons.concat(newContact))\n            setNewName('')\n            setNewNumber('')\n            define_message(`Contact ${newPersonObject.name} created!`, true)\n          })\n          .catch(error => {\n            define_message(error.response.data, false)\n          })\n      }\n    } else {\n      define_message(`Can't add an empty contact!`, false)\n    }\n  }\n\n  const constactsToShow = filter\n    ? persons.filter( person =>\n                     person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase())) \n    : persons\n\n\n  return (\n    <div>\n      <div className=\"header\">\n        <h2>Phonebook</h2>\n      </div>\n      <div className=\"page\">\n          \n        <h2>add a new</h2>\n          <PersonForm addNewPerson={addNewPerson} newName={newName}\n                      handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} />  \n      </div>\n      \n      <div className=\"filter\">\n        <Notification message={message} style={notificationState} />\n        <h2>Numbers</h2>\n        <Filter filter={filter} handler={handleNewFilter} />\n      </div>\n      <div className=\"grid\"> \n        {constactsToShow.map( person => \n            <Persons key={person.name} person={person} deleteHandler={() => deleteHandler(person.id, person.name)}/>\n        )}\n      </div>\n      \n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}